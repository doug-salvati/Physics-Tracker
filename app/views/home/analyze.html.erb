<!DOCTYPE html>
<html>
  <head></head>
  <body>
    <div class="column center">
      <h1>Video Analysis</h1>
      <%= video_tag(@output, controls: true, autoplay: true, loop: true, type: "video/webm", width: "50%") %>
    </div>
    <div class="column center">
      <h1>Data</h1>
      <a class="download_btn" href="<%= @data_download %>" download="physics_data.json"><i class="fa fa-download" aria-hidden="true"></i></a>
      <a class="download_btn" id="upload-to-isense"><i class="fa fa-line-chart" aria-hidden="true"></i></a>
      <div class="table-head-container">
      <table id="data-table"><thead>
	  <th>Time (s)</th><th><i>x</i> (<%= @units %>)</th><th><i>y</i> (<%= @units %>)</th>
	  <th><i>v<sub>x</sub></i> (<%= @units %>/s)</th><th><i>v<sub>y</sub></i> (<%= @units %>/s)</th>
	  <th><i>a<sub>x</sub></i> (<%= @units %>/s<sup>2</sup>)</th>
	  <th><i>a<sub>y</sub></i> (<%= @units %>/s<sup>2</sup>)</th>
      </thead></table>
      </div>
      <div class="table-container"><table>
	<tbody>
	  <% @data.each do |datum| %>
	  <tr>
	    <td><%= datum["t"].to_f.round(4) %></td>
	    <td><%= datum["x"].to_f.round(4) %></td>
	    <td><%= datum["y"].to_f.round(4) %></td>
	    <td><%= datum["vx"].to_f.round(4) %></td>
	    <td><%= datum["vy"].to_f.round(4) %></td>
	    <td><%= datum["ax"].to_f.round(4) %></td>
	    <td><%= datum["ay"].to_f.round(4) %></td>
	  </tr>
	  <% end %>
	</tbody>
      </table></div>
    </div>
    <!-- iSENSE Upload Form -->
    <div id="isense-form">
      <h1 class="center">Upload to iSENSE!</h1>
      In development, using fake data...<br/>
      Project ID: <input type="text" value="" id="isense-pid"><br/>
      Contributor Key: <input type="text" value="" id="isense-key"><br/>
      Data Set Name: <input type="text" value="" id="isense-dset"><br/>
      Your Name: <input type="text" value="" id="isense-name"><br/>
      <hr/>
      <h2 class="center">Field Names:</h2>
      Time: <input type="text" value="Time" id="t"><br/>
      X-Position: <input type="text" value="X-Position" id="x"><br/>
      Y-Position: <input type="text" value="Y-Position" id="y"><br/>
      X-Velocity: <input type="text" value="X-Velocity" id="vx"><br/>
      Y-Velocity: <input type="text" value="Y-Velocity" id="vy"><br/>
      X-Acceleration: <input type="text" value="X-Acceleration" id="ax"><br/>
      Y-Acceleration: <input type="text" value="Y-Acceleration" id="ay"><br/></br>
      <hr/>
      <div class="center"><a href="#" id="isense-cancel">Cancel</a> | <a href="#" id="isense-submit">Submit</a></div>
</div>
  </body>
</html>
